---
title: "Aster Hu's Blog"
listing:
  - id: post
    contents: post/*/*.qmd
    sort: "date desc"
    type: default
    fields: [image, date, title, author, description, categories, reading-time]
    image-height: 9em
    image-align: right
    categories: cloud
    page-size: 10
    feed: true
page-layout: full
title-block-banner: false
toc-location: left
execute: 
  freeze: false
---

::: {#post}
:::

```{r}
#| echo: false
library(stringr)

posts <- list.dirs(
  path = here::here("post"),
  full.names = FALSE,
  recursive = FALSE
)

# extract the slugs
slugs <- gsub("^.*_", "", posts) %>% 
  str_replace_all(., " ", "-") %>% 
  substring(., 12) %>% 
  tolower()

# lines to insert to a netlify _redirect file
redirects <- paste0("/", slugs, " ", "/post/", posts)

# write the _redirect file
writeLines(redirects, here::here("_site", "_redirects"))
```